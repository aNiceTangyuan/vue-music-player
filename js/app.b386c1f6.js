(function(){"use strict";var e={6634:function(e,a,t){var s=t(3751),l=t(641);function i(e,a,t,s,i,r){const o=(0,l.g2)("router-view"),n=(0,l.g2)("GlobalAudioPlayer");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(o),i.player?((0,l.uX)(),(0,l.Wv)(n,{key:0,src:i.player.url,title:i.player.song,artist:i.player.singer,cover:i.player.cover,onEnded:r.playNext},null,8,["src","title","artist","cover","onEnded"])):(0,l.Q3)("",!0)],64)}var r=t(33);const o={class:"global-audio-player"},n={class:"player-info"},c=["src"],u={class:"player-meta"},d={class:"player-title"},v={class:"player-artist"},y=["src"];function h(e,a,t,i,h,p){return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[t.cover?((0,l.uX)(),(0,l.CE)("img",{key:0,src:t.cover,class:"player-cover"},null,8,c)):(0,l.Q3)("",!0),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,(0,r.v_)(t.title||"Êú™ÈÄâÊã©Ê≠åÊõ≤"),1),(0,l.Lk)("div",v,(0,r.v_)(t.artist),1)])]),(0,l.Lk)("audio",{ref:"audio",src:t.src,controls:"",onEnded:a[0]||(a[0]=(...e)=>p.onEnded&&p.onEnded(...e)),onPlay:a[1]||(a[1]=(...e)=>p.onPlay&&p.onPlay(...e)),onPause:a[2]||(a[2]=(...e)=>p.onPause&&p.onPause(...e))},null,40,y),a[3]||(a[3]=(0,l.Lk)("button",{class:"player-close"},"‚úñ",-1))],512)),[[s.aG,h.visible]])}var p={name:"GlobalAudioPlayer",props:{src:String,title:String,artist:String,cover:String},data(){return{visible:!0}},watch:{src(e){this.visible=!!e,e&&this.$nextTick(()=>{this.$refs.audio&&this.$refs.audio.play()})}},methods:{onEnded(){this.$emit("ended")},onPlay(){this.$emit("play")},onPause(){this.$emit("pause")}}},f=t(6262);const m=(0,f.A)(p,[["render",h],["__scopeId","data-v-b9c7e03e"]]);var g=m,k=t(7571),b={name:"App",components:{GlobalAudioPlayer:g},data(){return{player:{url:"",song:"",singer:"",cover:"",album:"",quality:"",size:"",interval:"",kbps:"",id:"",playIndex:0,playList:[]}}},methods:{async playNext(){const e=this.$root.player;console.log(e);const a=e.playIndex+1;if(console.log("ÂΩìÂâçÊ≠åÊõ≤Ôºö",e.playList[0]),a<e.playList.length){const s=e.playList[a];try{const t=await(0,k.searchMusicByIdVkeys)(s.id);t.data&&200===t.data.code&&t.data.data.url?this.$root.player={...e,url:t.data.data.url,song:s.song,singer:s.singer,cover:s.cover,album:s.album,id:s.id,playIndex:a,playList:e.playList}:this.$root.player=null}catch(t){console.error("Ëé∑Âèñ‰∏ã‰∏ÄÈ¶ñurlÂ§±Ë¥•",t),this.$root.player=null}}else this.$root.player=null},async $searchMusicByIdVkeys(e){const{searchMusicByIdVkeys:a}=await Promise.resolve().then(t.bind(t,7571));return a(e)}}};const I=(0,f.A)(b,[["render",i]]);var L=I,C=t(5220);t(4114);const _={id:"music-search"},S={class:"search-header"},E={class:"search-bar"},B=["placeholder"],w={key:0},M={key:1,class:"error"},P={key:3},X=["src","alt"],O={class:"detail-info detail-info-fancy"},F={class:"detail-song detail-song-fancy"},$={class:"detail-meta-row"},x={class:"detail-singer"},A={class:"detail-album"},Q={class:"detail-meta-row"},D={class:"detail-time"},G={class:"detail-quality"},q={class:"detail-meta-row"},T={class:"detail-interval"},N={class:"detail-size"},U={class:"detail-kbps"},V={class:"detail-link"},j=["href"],J={key:0},z={key:1},R={key:0,class:"detail-audio"},K=["src"],H={key:4};function W(e,a,t,i,o,n){const c=(0,l.g2)("MusicList");return(0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("div",S,[a[7]||(a[7]=(0,l.Lk)("h1",{class:"search-title"},"Èü≥‰πêÊêúÁ¥¢",-1)),(0,l.Lk)("button",{class:"fav-list-btn",onClick:a[0]||(a[0]=a=>e.$router.push("/favorite"))},"ÊàëÂñúÊ¨¢ÁöÑÈü≥‰πêÊ≠åÂçï")]),(0,l.Lk)("div",E,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.searchType=e),class:"search-type-select"},[...a[8]||(a[8]=[(0,l.Lk)("option",{value:"word"},"Ê≠åÊõ≤ÂêçÂ≠ó",-1),(0,l.Lk)("option",{value:"id"},"ID/ÈìæÊé•",-1)])],512),[[s.u1,o.searchType]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.searchInput=e),onKeyup:a[3]||(a[3]=(0,s.jR)((...e)=>n.handleSearchUnified&&n.handleSearchUnified(...e),["enter"])),placeholder:"word"===o.searchType?"ËØ∑ËæìÂÖ•Ê≠åÊõ≤ÂêçÊàñÊ≠åÊâã":"ËØ∑ËæìÂÖ•Ê≠åÊõ≤ID",class:"search-input"},null,40,B),[[s.Jo,o.searchInput]]),(0,l.Lk)("button",{class:"search-btn",onClick:a[4]||(a[4]=(...e)=>n.handleSearchUnified&&n.handleSearchUnified(...e))},"ÊêúÁ¥¢")]),o.loading?((0,l.uX)(),(0,l.CE)("div",w,"ÊêúÁ¥¢‰∏≠...")):(0,l.Q3)("",!0),o.error?((0,l.uX)(),(0,l.CE)("div",M,(0,r.v_)(o.error),1)):(0,l.Q3)("",!0),o.results.length?((0,l.uX)(),(0,l.Wv)(c,{key:2,list:o.results,onGoDetail:n.handleGoDetail},null,8,["list","onGoDetail"])):(0,l.Q3)("",!0),o.resultById?((0,l.uX)(),(0,l.CE)("div",P,[(0,l.Lk)("div",{class:"detail-card detail-card-fancy",onClick:a[6]||(a[6]=e=>n.handleGoDetail(o.resultById.id))},[(0,l.Lk)("img",{src:o.resultById.cover,alt:o.resultById.song,class:"detail-cover detail-cover-fancy"},null,8,X),(0,l.Lk)("div",O,[(0,l.Lk)("div",F,(0,r.v_)(o.resultById.song),1),(0,l.Lk)("div",$,[(0,l.Lk)("span",x,"Ê≠åÊâãÔºö"+(0,r.v_)(o.resultById.singer),1),(0,l.Lk)("span",A,"‰∏ìËæëÔºö"+(0,r.v_)(o.resultById.album),1)]),(0,l.Lk)("div",Q,[(0,l.Lk)("span",D,"ÂèëË°åÊó∂Èó¥Ôºö"+(0,r.v_)(o.resultById.time||"Êú™Áü•"),1),(0,l.Lk)("span",G,"Èü≥Ë¥®Ôºö"+(0,r.v_)(o.resultById.quality),1)]),(0,l.Lk)("div",q,[(0,l.Lk)("span",T,"Êó∂ÈïøÔºö"+(0,r.v_)(o.resultById.interval||"Êú™Áü•"),1),(0,l.Lk)("span",N,"Â§ßÂ∞èÔºö"+(0,r.v_)(o.resultById.size||"Êú™Áü•"),1),(0,l.Lk)("span",U,"Á†ÅÁéáÔºö"+(0,r.v_)(o.resultById.kbps||"Êú™Áü•"),1)]),(0,l.Lk)("div",V,[(0,l.Lk)("a",{href:o.resultById.link,target:"_blank"},"ÁΩëÊòì‰∫ëÊí≠ÊîæÈ°µ",8,j)]),(0,l.Lk)("button",{class:(0,r.C4)(["fav-btn fancy-fav-btn",{liked:n.isFavorite(o.resultById.id)}]),onClick:a[5]||(a[5]=(0,s.D$)(e=>n.toggleFavorite(o.resultById.id),["stop"]))},[n.isFavorite(o.resultById.id)?((0,l.uX)(),(0,l.CE)("span",J,"‚ù§Ô∏è Â∑≤Êî∂Ëóè")):((0,l.uX)(),(0,l.CE)("span",z,"ü§ç Êî∂Ëóè"))],2),o.resultById.url?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.Lk)("audio",{src:o.resultById.url,controls:"",class:"audio-player-fancy"},null,8,K)])):(0,l.Q3)("",!0)])])])):o.loading||o.error||o.results.length||o.resultById?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",H,"ÊöÇÊó†ÁªìÊûú"))])}const Y={class:"music-list"},Z=["src","alt","onClick"],ee=["onClick"],ae={class:"song"},te={class:"singer"},se={class:"album"},le={class:"time"},ie={class:"quality"},re=["onClick"],oe={key:0},ne={key:1},ce=["onClick"],ue=["src"];function de(e,a,t,i,o,n){return(0,l.uX)(),(0,l.CE)("ul",Y,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.list,(e,a)=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:"music-item"},[(0,l.Lk)("img",{src:e.cover,alt:e.song,class:"cover",onClick:a=>n.goDetail(e.id),style:{cursor:"pointer"}},null,8,Z),(0,l.Lk)("div",{class:"info",onClick:a=>n.goDetail(e.id),style:{cursor:"pointer",flex:"1"}},[(0,l.Lk)("div",ae,(0,r.v_)(e.song),1),(0,l.Lk)("div",te,"Ê≠åÊâãÔºö"+(0,r.v_)(e.singer),1),(0,l.Lk)("div",se,"‰∏ìËæëÔºö"+(0,r.v_)(e.album),1),(0,l.Lk)("div",le,"ÂèëË°åÊó∂Èó¥Ôºö"+(0,r.v_)(e.time||"Êú™Áü•"),1),(0,l.Lk)("div",ie,"Èü≥Ë¥®Ôºö"+(0,r.v_)(e.quality),1)],8,ee),(0,l.Lk)("button",{class:(0,r.C4)(["fav-btn",{liked:n.isFavorite(e.id)}]),onClick:(0,s.D$)(a=>n.toggleFavorite(e.id),["stop"])},[n.isFavorite(e.id)?((0,l.uX)(),(0,l.CE)("span",oe,"‚ù§Ô∏è")):((0,l.uX)(),(0,l.CE)("span",ne,"ü§ç"))],10,re),(0,l.Lk)("button",{class:"play-btn",onClick:t=>n.handlePlay(e,a)},"‚ñ∂Ô∏è",8,ce),o.audioMap[e.id]?((0,l.uX)(),(0,l.CE)("audio",{key:0,src:o.audioMap[e.id],controls:"",style:{width:"120px","margin-left":"8px","vertical-align":"middle",display:"none"}},null,8,ue)):(0,l.Q3)("",!0)]))),128))])}var ve={name:"MusicList",props:{list:{type:Array,default:()=>[]}},data(){return{favoriteIds:JSON.parse(localStorage.getItem("favoriteMusicIds")||"[]"),audioMap:{}}},methods:{playGlobal(e,a,t){this.$root.player={url:t,song:e.name||e.song,singer:e.singer||e.ar_name,cover:e.cover||e.pic,album:e.album||e.al_name,quality:e.quality,size:e.size,interval:e.interval,kbps:e.kbps,id:e.id,playIndex:a,playList:this.list}},async handlePlay(e,a){console.log("Ëß¶Âèë",a);const t=await(0,k.searchMusicByIdVkeys)(e.id);let s="";t.data&&200===t.data.code&&t.data.data.url?(s=t.data.data.url,this.audioMap[e.id]=t.data.data.url):this.audioMap[e.id]="",this.playGlobal(e,a,s)},async playNext(e){if(console.log("Ëß¶Âèë‰∫Ü"),e<this.list.length-1){const a=e+1,t=this.list[a];t&&await this.handlePlay(t,a)}else console.log("Êí≠ÊîæÁªìÊùüÔºåÂ∑≤Âà∞ÊúÄÂêé‰∏ÄÈ¶ñ"),this.$root.player=""},goDetail(e){this.$emit("go-detail",e)},isFavorite(e){return this.favoriteIds.includes(e)},toggleFavorite(e){const a=this.favoriteIds.indexOf(e);a>-1?this.favoriteIds.splice(a,1):this.favoriteIds.push(e),localStorage.setItem("favoriteMusicIds",JSON.stringify(this.favoriteIds)),this.$emit("favorite-change",this.favoriteIds)}}};const ye=(0,f.A)(ve,[["render",de],["__scopeId","data-v-c7427e04"]]);var he=ye,pe={name:"MusicSearch",components:{MusicList:he},data(){return{favoriteIds:JSON.parse(localStorage.getItem("favoriteMusicIds")||"[]"),searchType:"word",searchInput:"",results:[],resultById:null,loading:!1,error:""}},mounted(){this.isFavorite();const e=localStorage.getItem("musicSearchState");if(e)try{const a=JSON.parse(e);this.searchType=a.searchType||"word",this.searchInput=a.searchInput||"",this.results=a.results||[],this.resultById=a.resultById||null}catch(a){console.error("ÊÅ¢Â§çÊêúÁ¥¢Áä∂ÊÄÅÂ§±Ë¥•Ôºö",a)}},methods:{isFavorite(e){return this.favoriteIds.includes(e)},toggleFavorite(e){const a=this.favoriteIds.indexOf(e);a>-1?this.favoriteIds.splice(a,1):this.favoriteIds.push(e),localStorage.setItem("favoriteMusicIds",JSON.stringify(this.favoriteIds)),this.$emit("favorite-change",this.favoriteIds)},async handleSearchUnified(){if(!this.searchInput.trim())return this.error="word"===this.searchType?"ËØ∑ËæìÂÖ•ÂÖ≥ÈîÆËØç":"ËØ∑ËæìÂÖ•Ê≠åÊõ≤IDÊàñÈìæÊé•",this.results=[],void(this.resultById=null);this.loading=!0,this.error="",this.results=[],this.resultById=null;try{if("word"===this.searchType){const e=await(0,k.W)(this.searchInput);e.data&&200===e.data.code?this.results=e.data.data||[]:(this.error=e.data.message||"ÊêúÁ¥¢Â§±Ë¥•",this.results=[])}else{let e=this.searchInput.trim();const a=e.match(/id=(\d+)/);a&&(e=a[1]);const t=await(0,k.searchMusicByIdVkeys)(e);console.log("ID/ÈìæÊé•ÊêúÁ¥¢ÁªìÊûú:",t),t.data&&200===t.data.code&&t.data.data?this.resultById=t.data.data:(this.error=t.data.message||"Êú™ÊâæÂà∞ËØ•IDÂØπÂ∫îÁöÑÊ≠åÊõ≤",this.resultById=null)}}catch(e){this.error="ËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï",this.results=[],this.resultById=null}finally{this.loading=!1}},handleGoDetail(e){localStorage.setItem("musicSearchState",JSON.stringify({searchType:this.searchType,searchInput:this.searchInput,results:this.results,resultById:this.resultById})),console.log(this.searchType),this.$router.push({path:`/music/${e}`})}}};const fe=(0,f.A)(pe,[["render",W],["__scopeId","data-v-930ef734"]]);var me=fe;const ge={key:0,class:"music-detail-card"},ke=["src","alt"],be={class:"music-detail-title"},Ie={class:"music-detail-meta"},Le={class:"music-detail-singer"},Ce={class:"music-detail-album"},_e={class:"music-detail-quality"},Se={class:"music-detail-size"},Ee={class:"music-detail-select"},Be=["value"],we={class:"music-detail-audio"},Me={key:0,class:"music-detail-nourl"},Pe={key:0,class:"lyric-block"},Xe={class:"lyric"},Oe={key:1},Fe={key:2,class:"error"};function $e(e,a,t,i,o,n){return o.music?((0,l.uX)(),(0,l.CE)("div",ge,[(0,l.Lk)("img",{src:o.music.cover,alt:o.music.song,class:"music-detail-cover"},null,8,ke),(0,l.Lk)("h2",be,(0,r.v_)(o.music.song),1),(0,l.Lk)("div",Ie,[(0,l.Lk)("div",Le,"Ê≠åÊâãÔºö"+(0,r.v_)(o.music.singer),1),(0,l.Lk)("div",Ce,"‰∏ìËæëÔºö"+(0,r.v_)(o.music.album),1),(0,l.Lk)("div",_e,"Èü≥Ë¥®Ôºö"+(0,r.v_)(o.music.quality),1),(0,l.Lk)("div",Se,"Â§ßÂ∞èÔºö"+(0,r.v_)(o.music.size||"Êú™Áü•"),1)]),(0,l.Lk)("div",Ee,[a[3]||(a[3]=(0,l.Lk)("label",{class:"music-detail-label"},"Èü≥Ë¥®Ôºö",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.selectedQuality=e),onChange:a[1]||(a[1]=(...e)=>n.fetchAndPlay&&n.fetchAndPlay(...e)),class:"music-detail-selectbox"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.qualityOptions,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,r.v_)(e.label),9,Be))),128))],544),[[s.u1,o.selectedQuality]])]),(0,l.Lk)("div",we,[(0,l.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>n.playGlobal&&n.playGlobal(...e))},"Êí≠Êîæ"),o.audioUrl||o.loading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Me,"ËØ∑ÈÄâÊã©Èü≥Ë¥®Ëé∑ÂèñËØïÂê¨ÈìæÊé•"))]),o.music.lyric?((0,l.uX)(),(0,l.CE)("div",Pe,[a[4]||(a[4]=(0,l.Lk)("h3",null,"Ê≠åËØç",-1)),(0,l.Lk)("pre",Xe,(0,r.v_)(o.music.lyric),1)])):(0,l.Q3)("",!0)])):o.loading?((0,l.uX)(),(0,l.CE)("div",Oe,"Âä†ËΩΩ‰∏≠...")):o.error?((0,l.uX)(),(0,l.CE)("div",Fe,(0,r.v_)(o.error),1)):(0,l.Q3)("",!0)}var xe={name:"MusicDetail",data(){return{music:null,loading:!1,error:"",selectedQuality:4,qualityOptions:[{value:1,label:"\tÊ†áÂáÜÔºà64kÔºâ"},{value:2,label:"Ê†áÂáÜÔºà128kÔºâ"},{value:3,label:"HQÊûÅÈ´òÔºà192kÔºâ"},{value:4,label:"\tHQÊûÅÈ´òÔºà320kÔºâ"},{value:5,label:"SQÊó†Êçü"},{value:6,label:"È´òËß£ÊûêÂ∫¶Êó†ÊçüÔºàHi-ResÔºâ"},{value:7,label:"\tÈ´òÊ∏ÖËáªÈü≥ÔºàSpatial AutioÔºâ"},{value:8,label:"\tÊ≤âÊµ∏ÁéØÁªïÂ£∞ÔºàSurround AutioÔºâ"},{value:9,label:"Ë∂ÖÊ∏ÖÊØçÂ∏¶ÔºàMasterÔºâ"}],audioUrl:""}},async created(){await this.fetchAndPlay()},methods:{async fetchAndPlay(){const e=this.$route.params.id;if(e){this.loading=!0,this.audioUrl="";try{const a=await(0,k.searchMusicByIdVkeys)(e,this.selectedQuality);console.log("Èü≥‰πêËØ¶ÊÉÖÁªìÊûú:",a),a.data&&200===a.data.code?(this.music=a.data.data,this.audioUrl=a.data.data.url||""):this.error=a.data?.message||"Êú™ÊâæÂà∞ËØ•Èü≥Ë¥®ÁöÑÊí≠ÊîæÈìæÊé•"}catch(a){this.error="ËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï"}finally{this.loading=!1}}else this.error="Êó†ÊïàÁöÑÊ≠åÊõ≤ID"},playGlobal(){this.music&&this.music.url&&(this.$root.player={...this.music})},watch:{selectedQuality(){this.fetchAndPlay()}}}};const Ae=(0,f.A)(xe,[["render",$e],["__scopeId","data-v-581fe594"]]);var Qe=Ae;const De={class:"favorite-list"},Ge={key:0,style:{color:"#888","margin-top":"30px"}};function qe(e,a,t,s,i,r){const o=(0,l.g2)("FavoriteMusicList");return(0,l.uX)(),(0,l.CE)("div",De,[a[0]||(a[0]=(0,l.Lk)("h2",null,"ÊàëÂñúÊ¨¢ÁöÑÈü≥‰πê",-1)),(0,l.bF)(o,{list:i.favoriteSongs,onRefresh:r.fetchFavorites},null,8,["list","onRefresh"]),i.favoriteSongs.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Ge,"ÊöÇÊó†ÂñúÊ¨¢ÁöÑÈü≥‰πê"))])}t(8111),t(7588),t(1701);const Te={class:"fav-music-list"},Ne=["src","alt"],Ue={class:"fav-info"},Ve={class:"fav-song"},je={class:"fav-singer"},Je={class:"fav-album"},ze={class:"fav-quality"},Re={class:"fav-audio-row"},Ke=["onClick"],He=["src","autoplay","onEnded","onPlay"],We=["onClick"];function Ye(e,a,t,s,i,o){return(0,l.uX)(),(0,l.CE)("ul",Te,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.list,(e,a)=>((0,l.uX)(),(0,l.CE)("li",{key:e.url||e.id,class:"fav-music-item"},[(0,l.Lk)("img",{src:e.pic||e.cover,alt:e.name||e.song,class:"fav-cover"},null,8,Ne),(0,l.Lk)("div",Ue,[(0,l.Lk)("div",Ve,(0,r.v_)(e.name||e.song),1),(0,l.Lk)("div",je,"Ê≠åÊâãÔºö"+(0,r.v_)(e.ar_name||e.singer),1),(0,l.Lk)("div",Je,"‰∏ìËæëÔºö"+(0,r.v_)(e.al_name||e.album),1),(0,l.Lk)("div",ze,"Èü≥Ë¥®Ôºö"+(0,r.v_)(e.quality),1),(0,l.Lk)("div",Re,[(0,l.Lk)("button",{class:"play-btn",onClick:t=>o.playGlobal(e,a)},"‚ñ∂Ô∏è Êí≠Êîæ",8,Ke),e.url?((0,l.uX)(),(0,l.CE)("audio",{key:0,src:e.url,controls:"",class:"fav-audio-player",autoplay:i.currentPlaying===a,onEnded:e=>o.playNext(a),onPlay:e=>i.currentPlaying=a,ref_for:!0,ref:"audioRefs",style:{display:"none"}},null,40,He)):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"unfav-btn",onClick:a=>o.removeFavorite(e.id)},"‚ù§Ô∏è",8,We)])])]))),128))])}t(2489);var Ze={name:"FavoriteMusicList",props:{list:{type:Array,default:()=>[]}},data(){return{levelOptions:[{value:"standard",label:"Ê†áÂáÜ"},{value:"exhigh",label:"ÊûÅÈ´ò"},{value:"lossless",label:"Êó†Êçü"},{value:"hires",label:"Hi-Res"},{value:"jyeffect",label:"È´òÊ∏ÖÁéØÁªï"},{value:"sky",label:"Ê≤âÊµ∏ÁéØÁªï"},{value:"jymaster",label:"Ë∂ÖÊ∏ÖÊØçÂ∏¶"}],audioLevels:{},audioUrls:{},currentPlaying:null}},methods:{playGlobal(e,a){this.$root.player={url:e.url,song:e.name||e.song,singer:e.singer||e.ar_name,cover:e.cover||e.pic,album:e.album||e.al_name,quality:e.quality,size:e.size,interval:e.interval,kbps:e.kbps,id:e.id,playIndex:a,playList:this.list}},playNext(e){if(e<this.list.length-1){this.currentPlaying=e+1;const a=this.list[e+1];a&&this.playGlobal(a,e+1)}else this.currentPlaying=null},removeFavorite(e){let a=JSON.parse(localStorage.getItem("favoriteMusicIds")||"[]");a=a.filter(a=>a!==e),localStorage.setItem("favoriteMusicIds",JSON.stringify(a)),this.$emit("refresh")}}};const ea=(0,f.A)(Ze,[["render",Ye],["__scopeId","data-v-5e0b9114"]]);var aa=ea,ta={name:"FavoriteList",components:{FavoriteMusicList:aa},data(){return{favoriteSongs:[]}},async created(){const e=JSON.parse(localStorage.getItem("favoriteMusicIds")||"[]");if(e.length){const a=await Promise.all(e.map(e=>(0,k.searchMusicByIdVkeys)(e)));console.log("ÂñúÊ¨¢ÁöÑÈü≥‰πêÁªìÊûú:",a);let t=[];a.forEach(e=>{e.data&&200===e.data.code&&(t=t.concat(e.data.data))}),this.favoriteSongs=t}this.fetchFavorites()},methods:{async fetchFavorites(){const e=JSON.parse(localStorage.getItem("favoriteMusicIds")||"[]");if(e.length){const a=await Promise.all(e.map(e=>(0,k.searchMusicByIdVkeys)(e)));let t=[];a.forEach(e=>{e.data&&200===e.data.code&&(t=t.concat(e.data.data))}),this.favoriteSongs=t}else this.favoriteSongs=[]}}};const sa=(0,f.A)(ta,[["render",qe],["__scopeId","data-v-7fc490f5"]]);var la=sa;const ia=[{path:"/",component:me},{path:"/music/:id",component:Qe,props:!0},{path:"/favorite",component:la}],ra=(0,C.aE)({history:(0,C.Bt)(),routes:ia});var oa=ra;(0,s.Ef)(L).use(oa).mount("#app")},7571:function(e,a,t){t.d(a,{W:function(){return r},searchMusicByIdVkeys:function(){return i}});var s=t(4335);const l=s.A.create({baseURL:"https://api.vkeys.cn/v2/music/netease",timeout:1e4});function i(e,a=4){return l.get("",{params:{id:e,quality:a}})}function r(e){return l.get("",{params:{word:e}})}}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var i=a[s]={exports:{}};return e[s].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,s,l,i){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],l=e[u][1],i=e[u][2];for(var o=!0,n=0;n<s.length;n++)(!1&i||r>=i)&&Object.keys(t.O).every(function(e){return t.O[e](s[n])})?s.splice(n--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var c=l();void 0!==c&&(a=c)}}return a}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,l,i]}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var l,i,r=s[0],o=s[1],n=s[2],c=0;if(r.some(function(a){return 0!==e[a]})){for(l in o)t.o(o,l)&&(t.m[l]=o[l]);if(n)var u=n(t)}for(a&&a(s);c<r.length;c++)i=r[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},s=self["webpackChunkmusic_web"]=self["webpackChunkmusic_web"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(6634)});s=t.O(s)})();
//# sourceMappingURL=app.b386c1f6.js.map