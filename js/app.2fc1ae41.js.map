{"version":3,"file":"js/app.2fc1ae41.js","mappings":"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","sources":["webpack://music-web/./src/App.vue","webpack://music-web/./src/components/GlobalAudioPlayer.vue","webpack://music-web/./src/components/GlobalAudioPlayer.vue?d8c2","webpack://music-web/./src/App.vue?7ccd","webpack://music-web/./src/views/MusicSearch.vue","webpack://music-web/./src/components/MusicList.vue","webpack://music-web/./src/components/MusicList.vue?f4be","webpack://music-web/./src/views/MusicSearch.vue?928c","webpack://music-web/./src/views/MusicDetail.vue","webpack://music-web/./src/views/MusicDetail.vue?5112","webpack://music-web/./src/views/FavoriteList.vue","webpack://music-web/./src/components/FavoriteMusicList.vue","webpack://music-web/./src/components/FavoriteMusicList.vue?2b0f","webpack://music-web/./src/views/FavoriteList.vue?9cc8","webpack://music-web/./src/router.js","webpack://music-web/./src/main.js","webpack://music-web/./src/api/music.js","webpack://music-web/webpack/bootstrap","webpack://music-web/webpack/runtime/chunk loaded","webpack://music-web/webpack/runtime/define property getters","webpack://music-web/webpack/runtime/global","webpack://music-web/webpack/runtime/hasOwnProperty shorthand","webpack://music-web/webpack/runtime/make namespace object","webpack://music-web/webpack/runtime/jsonp chunk loading","webpack://music-web/webpack/startup"],"sourcesContent":["\r\n\r\n<template>\r\n  <router-view />\r\n  <GlobalAudioPlayer\r\n    v-if=\"player\"\r\n    :src=\"player.url\"\r\n    :title=\"player.song\"\r\n    :artist=\"player.singer\"\r\n    :cover=\"player.cover\"\r\n    :musicId=\"player.id\"\r\n    @ended=\"playNext\"\r\n    @timeupdate=\"handleTimeUpdate\"\r\n    @prev=\"playPrev\"\r\n    @next=\"playNext\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport GlobalAudioPlayer from './components/GlobalAudioPlayer.vue';\r\nimport { searchMusicByIdVkeys } from './api/music';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: { GlobalAudioPlayer },\r\n  data() {\r\n    return {\r\n      player: {\r\n        url: '',\r\n        song: '',\r\n        singer: '',\r\n        cover: '',\r\n        album: '',\r\n        quality: '',\r\n        size: '',\r\n        interval: '',\r\n        kbps: '',\r\n        id: '',\r\n        playIndex: 0,\r\n        playList: [],\r\n        currentTime: 0\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    handleTimeUpdate(currentTime) {\r\n      if (this.player) {\r\n        this.player.currentTime = currentTime;\r\n      }\r\n    },\r\n\r\n    /** 封装统一的重试函数 */\r\n    async retryFetchMusicUrl(id, maxRetries = 15, delay = 1000) {\r\n      for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n        try {\r\n          const res = await searchMusicByIdVkeys(id);\r\n          if (res.data && res.data.code === 200 && res.data.data.url) {\r\n            console.log(`✅ 第 ${attempt} 次获取成功`);\r\n            return res.data.data.url;\r\n          } else {\r\n            console.warn(`⚠️ 第 ${attempt} 次获取失败，继续重试...`);\r\n          }\r\n        } catch (e) {\r\n          console.error(`❌ 第 ${attempt} 次请求出错`, e);\r\n        }\r\n        // 每次重试等待 delay 毫秒（默认 1 秒）\r\n        await new Promise(resolve => setTimeout(resolve, delay));\r\n      }\r\n      console.error(`❌ 已重试 ${maxRetries} 次仍失败，放弃`);\r\n      return null;\r\n    },\r\n\r\n    async playPrev() {\r\n      const player = this.$root.player;\r\n      console.log('app 播放上一首');\r\n      const prevIndex = player.playIndex - 1;\r\n\r\n      if (prevIndex >= 0) {\r\n        const prevItem = player.playList[prevIndex];\r\n        const url = await this.retryFetchMusicUrl(prevItem.id); // ✅ 使用重试机制\r\n        if (url) {\r\n          this.$root.player = {\r\n            ...player,\r\n            url,\r\n            song: prevItem.song,\r\n            singer: prevItem.singer,\r\n            cover: prevItem.cover,\r\n            album: prevItem.album,\r\n            id: prevItem.id,\r\n            playIndex: prevIndex,\r\n            playList: player.playList\r\n          };\r\n        } else {\r\n          console.log('无法获取上一首 URL，停止播放');\r\n          this.$root.player = null;\r\n        }\r\n      } else {\r\n        console.log('已经是第一首了');\r\n      }\r\n    },\r\n\r\n    async playNext() {\r\n      const player = this.$root.player;\r\n      console.log('app 播放下一首');\r\n\r\n      const nextIndex = player.playIndex + 1;\r\n      if (nextIndex < player.playList.length) {\r\n        const nextItem = player.playList[nextIndex];\r\n        console.log(\"准备播放下一首：\", nextItem.song);\r\n\r\n        const url = await this.retryFetchMusicUrl(nextItem.id); // ✅ 使用重试机制\r\n        if (url) {\r\n          this.$root.player = {\r\n            ...player,\r\n            url,\r\n            song: nextItem.song,\r\n            singer: nextItem.singer,\r\n            cover: nextItem.cover,\r\n            album: nextItem.album,\r\n            id: nextItem.id,\r\n            playIndex: nextIndex,\r\n            playList: player.playList\r\n          };\r\n        } else {\r\n          console.log('无法获取下一首 URL，停止播放');\r\n          this.$root.player = null;\r\n        }\r\n      } else {\r\n        console.log('播放完最后一首，清空播放器');\r\n        this.$root.player = null;\r\n      }\r\n    },\r\n\r\n    async $searchMusicByIdVkeys(id) {\r\n      const { searchMusicByIdVkeys } = await import('./api/music');\r\n      return searchMusicByIdVkeys(id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n:root {\r\n  --primary-color: #42b983;\r\n  --primary-light: #eafaf3;\r\n  --primary-dark: #2c9d6a;\r\n  --text-color: #2c3e50;\r\n  --text-light: #606f7b;\r\n  --background-light: #f8fcfa;\r\n  --shadow-sm: 0 2px 8px rgba(66, 185, 131, 0.08);\r\n  --shadow-md: 0 4px 16px rgba(66, 185, 131, 0.12);\r\n  --shadow-lg: 0 8px 24px rgba(66, 185, 131, 0.16);\r\n  --radius-sm: 8px;\r\n  --radius-md: 12px;\r\n  --radius-lg: 16px;\r\n  --transition-fast: 0.2s;\r\n  --transition-normal: 0.3s;\r\n}\r\n\r\nbody {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: var(--text-color);\r\n  background-color: #f9fafb;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbutton {\r\n  cursor: pointer;\r\n  transition: all var(--transition-fast);\r\n}\r\n\r\nbutton:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\nbutton:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n/* 全局过渡效果 */\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity var(--transition-normal);\r\n}\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-up-enter-active, .slide-up-leave-active {\r\n  transition: transform var(--transition-normal), opacity var(--transition-normal);\r\n}\r\n.slide-up-enter, .slide-up-leave-to {\r\n  transform: translateY(20px);\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"global-audio-player\" v-show=\"visible\">\r\n    <div class=\"player-info\" @click=\"navigateToDetail\" :class=\"{ clickable: musicId }\">\r\n      <img v-if=\"cover\" :src=\"cover\" class=\"player-cover\" />\r\n      <div class=\"player-meta\">\r\n        <div class=\"player-title\">{{ title || '未选择歌曲' }}</div>\r\n        <div class=\"player-artist\">{{ artist }}</div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"player-controls\">\r\n      <!-- 播放/暂停按钮 -->\r\n  <!-- 上一首 -->\r\n  <button class=\"control-btn small-btn\" \r\n  @click=\"$emit('prev')\"\r\n  :disabled=\"!src\">\r\n    <svg viewBox=\"0 0 24 24\" class=\"icon\">\r\n      <path d=\"M6 12l10-7v14L6 12zm-2 7h2V5H4v14z\" fill=\"currentColor\"/>\r\n    </svg>\r\n  </button>\r\n\r\n  <!-- 播放/暂停按钮 -->\r\n  <button class=\"control-btn play-pause-btn\" \r\n  @click=\"togglePlay\"\r\n  :disabled=\"!src\">\r\n    <svg v-if=\"!isPlaying\" viewBox=\"0 0 24 24\" class=\"icon\">\r\n      <path d=\"M8 5v14l11-7z\" fill=\"currentColor\"/>\r\n    </svg>\r\n    <svg v-else viewBox=\"0 0 24 24\" class=\"icon\">\r\n      <path d=\"M6 4h4v16H6V4zm8 0h4v16h-4V4z\" fill=\"currentColor\"/>\r\n    </svg>\r\n  </button>\r\n\r\n  <!-- 下一首 -->\r\n  <button class=\"control-btn small-btn\" \r\n  @click=\"$emit('next')\"\r\n  :disabled=\"!src\">\r\n    <svg viewBox=\"0 0 24 24\" class=\"icon\">\r\n      <path d=\"M18 12L8 19V5l10 7zm2-7h-2v14h2V5z\" fill=\"currentColor\"/>\r\n    </svg>\r\n  </button>\r\n\r\n      \r\n      <!-- 进度条区域 -->\r\n      <div class=\"progress-container\">\r\n        <div class=\"time-display\">{{ formatTime(currentTime) }}</div>\r\n        <div class=\"progress-bar-wrapper\" @click=\"seek\">\r\n          <div class=\"progress-bar\">\r\n            <div class=\"progress-bar-fill\" :style=\"{ width: progress + '%' }\">\r\n              <div class=\"progress-handle\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"time-display\">{{ formatTime(duration) }}</div>\r\n      </div>\r\n      \r\n      <!-- 音量控制 -->\r\n      <div class=\"volume-control\">\r\n        <button class=\"control-btn volume-btn\" @click=\"toggleMute\">\r\n          <svg v-if=\"volume > 0.5\" viewBox=\"0 0 24 24\" class=\"icon icon-small\">\r\n            <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\" fill=\"currentColor\"/>\r\n          </svg>\r\n          <svg v-else-if=\"volume > 0\" viewBox=\"0 0 24 24\" class=\"icon icon-small\">\r\n            <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\" fill=\"currentColor\"/>\r\n          </svg>\r\n          <svg v-else viewBox=\"0 0 24 24\" class=\"icon icon-small\">\r\n            <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\" fill=\"currentColor\"/>\r\n          </svg>\r\n        </button>\r\n        <div class=\"volume-slider-wrapper\">\r\n          <input \r\n            type=\"range\" \r\n            class=\"volume-slider\" \r\n            min=\"0\" \r\n            max=\"100\" \r\n            v-model=\"volumePercent\"\r\n            @input=\"changeVolume\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <audio \r\n    autoplay\r\n      ref=\"audio\" \r\n      :src=\"src\" \r\n      @ended=\"onEnded\" \r\n      @play=\"onPlay\" \r\n      @pause=\"onPause\"\r\n      @timeupdate=\"updateTime\"\r\n      @loadedmetadata=\"updateDuration\"\r\n    />\r\n    \r\n    <button class=\"player-close\" @click=\"closePlayer\">✖</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GlobalAudioPlayer',\r\n  props: {\r\n    src: String,\r\n    title: String,\r\n    artist: String,\r\n    cover: String,\r\n    musicId: [String, Number]\r\n  },\r\n  data() {\r\n    return {\r\n      visible: true,\r\n      isPlaying: false,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      volume: 1,\r\n      volumePercent: 100,\r\n      lastVolume: 1\r\n    };\r\n  },\r\n  computed: {\r\n    progress() {\r\n      if (!this.duration) return 0;\r\n      return (this.currentTime / this.duration) * 100;\r\n    }\r\n  },\r\n  watch: {\r\n    src(newVal) {\r\n      this.visible = !!newVal;\r\n      if (newVal) {\r\n        this.$nextTick(() => {\r\n          if (this.$refs.audio) {\r\n            this.$refs.audio.play();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    togglePlay() {\r\n      const audio = this.$refs.audio;\r\n      if (!audio) return;\r\n      \r\n      if (this.isPlaying) {\r\n        audio.pause();\r\n      } else {\r\n        audio.play();\r\n      }\r\n    },\r\n    onEnded() {\r\n      this.isPlaying = false;\r\n      this.$emit('ended');\r\n    },\r\n    onPlay() {\r\n      this.isPlaying = true;\r\n      this.$emit('play');\r\n    },\r\n    onPause() {\r\n      this.isPlaying = false;\r\n      this.$emit('pause');\r\n    },\r\n    updateTime() {\r\n      const audio = this.$refs.audio;\r\n      if (audio) {\r\n        this.currentTime = audio.currentTime;\r\n        // 发出时间更新事件，用于歌词滚动\r\n        this.$emit('timeupdate', this.currentTime);\r\n      }\r\n    },\r\n    updateDuration() {\r\n      const audio = this.$refs.audio;\r\n      if (audio) {\r\n        this.duration = audio.duration;\r\n      }\r\n    },\r\n    seek(event) {\r\n      const audio = this.$refs.audio;\r\n      if (!audio || !this.duration) return;\r\n      \r\n      const rect = event.currentTarget.getBoundingClientRect();\r\n      const offsetX = event.clientX - rect.left;\r\n      const percentage = offsetX / rect.width;\r\n      audio.currentTime = percentage * this.duration;\r\n    },\r\n    changeVolume() {\r\n      const audio = this.$refs.audio;\r\n      if (audio) {\r\n        this.volume = this.volumePercent / 100;\r\n        audio.volume = this.volume;\r\n      }\r\n    },\r\n    toggleMute() {\r\n      const audio = this.$refs.audio;\r\n      if (!audio) return;\r\n      \r\n      if (this.volume > 0) {\r\n        this.lastVolume = this.volume;\r\n        this.volume = 0;\r\n        this.volumePercent = 0;\r\n        audio.volume = 0;\r\n      } else {\r\n        this.volume = this.lastVolume;\r\n        this.volumePercent = this.lastVolume * 100;\r\n        audio.volume = this.lastVolume;\r\n      }\r\n    },\r\n    formatTime(seconds) {\r\n      if (!seconds || isNaN(seconds)) return '0:00';\r\n      const mins = Math.floor(seconds / 60);\r\n      const secs = Math.floor(seconds % 60);\r\n      return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n    },\r\n    navigateToDetail() {\r\n      if (this.musicId) {\r\n        this.$router.push(`/music/${this.musicId}`);\r\n      }\r\n    },\r\n    closePlayer() {\r\n      this.visible = false;\r\n      const audio = this.$refs.audio;\r\n      if (audio) {\r\n        audio.pause();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const audio = this.$refs.audio;\r\n    if (audio) {\r\n      audio.volume = this.volume;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.control-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  transform: none !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n.global-audio-player {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 9999;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  box-shadow: 0 -2px 16px rgba(66,185,131,0.13);\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16px 24px;\r\n  min-height: 80px;\r\n  border-top-left-radius: 16px;\r\n  border-top-right-radius: 16px;\r\n  transition: box-shadow 0.2s;\r\n  gap: 20px;\r\n}\r\n\r\n.player-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  min-width: 240px;\r\n}\r\n\r\n.player-info.clickable {\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.player-info.clickable:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.player-cover {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 8px;\r\n  object-fit: cover;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n}\r\n\r\n.player-meta {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.player-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  margin-bottom: 4px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 160px;\r\n}\r\n\r\n.player-artist {\r\n  font-size: 13px;\r\n  color: #369870;\r\n}\r\n\r\n/* 播放控制区域 */\r\n.player-controls {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex: 1;\r\n  max-width: 800px;\r\n}\r\n\r\n.control-btn {\r\n  background: linear-gradient(135deg, #42b983 0%, #369870 100%);\r\n  border: none;\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px rgba(66,185,131,0.3);\r\n}\r\n\r\n.control-btn:hover {\r\n  transform: scale(1.1);\r\n  box-shadow: 0 6px 16px rgba(66,185,131,0.4);\r\n}\r\n\r\n.control-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  color: white;\r\n}\r\n\r\n.icon-small {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n/* 进度条区域 */\r\n.progress-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  flex: 1;\r\n}\r\n\r\n.time-display {\r\n  font-size: 13px;\r\n  color: #369870;\r\n  font-weight: 500;\r\n  min-width: 40px;\r\n  text-align: center;\r\n}\r\n\r\n.progress-bar-wrapper {\r\n  flex: 1;\r\n  cursor: pointer;\r\n  padding: 8px 0;\r\n}\r\n\r\n.progress-bar {\r\n  height: 6px;\r\n  background: rgba(66,185,131,0.2);\r\n  border-radius: 3px;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n.progress-bar-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #42b983 0%, #369870 100%);\r\n  border-radius: 3px;\r\n  position: relative;\r\n  transition: width 0.1s linear;\r\n}\r\n\r\n.progress-handle {\r\n  position: absolute;\r\n  right: -6px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 14px;\r\n  height: 14px;\r\n  background: white;\r\n  border: 3px solid #42b983;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 6px rgba(66,185,131,0.3);\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.progress-bar-wrapper:hover .progress-handle {\r\n  transform: translateY(-50%) scale(1.2);\r\n}\r\n\r\n/* 音量控制 */\r\n.volume-control {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.volume-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: rgba(66,185,131,0.1);\r\n  box-shadow: none;\r\n}\r\n\r\n.volume-btn:hover {\r\n  background: rgba(66,185,131,0.2);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.volume-slider-wrapper {\r\n  width: 80px;\r\n}\r\n\r\n.volume-slider {\r\n  width: 100%;\r\n  height: 6px;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background: rgba(66,185,131,0.2);\r\n  border-radius: 3px;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.volume-slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 14px;\r\n  height: 14px;\r\n  background: white;\r\n  border: 3px solid #42b983;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 6px rgba(66,185,131,0.3);\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.volume-slider::-webkit-slider-thumb:hover {\r\n  transform: scale(1.2);\r\n}\r\n\r\n.volume-slider::-moz-range-thumb {\r\n  width: 14px;\r\n  height: 14px;\r\n  background: white;\r\n  border: 3px solid #42b983;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 6px rgba(66,185,131,0.3);\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.volume-slider::-moz-range-thumb:hover {\r\n  transform: scale(1.2);\r\n}\r\n\r\naudio {\r\n  display: none;\r\n}\r\n\r\n.player-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 22px;\r\n  color: #888;\r\n  cursor: pointer;\r\n  transition: color 0.2s;\r\n  padding: 8px;\r\n  margin-left: auto;\r\n}\r\n\r\n.player-close:hover {\r\n  color: #e74c3c;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .global-audio-player {\r\n    flex-wrap: wrap;\r\n    padding: 12px 16px;\r\n  }\r\n  \r\n  .player-info {\r\n    min-width: auto;\r\n  }\r\n  \r\n  .player-title {\r\n    max-width: 120px;\r\n  }\r\n  \r\n  .player-controls {\r\n    width: 100%;\r\n    max-width: 100%;\r\n  }\r\n  \r\n  .volume-slider-wrapper {\r\n    width: 60px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./GlobalAudioPlayer.vue?vue&type=template&id=487dd438&scoped=true\"\nimport script from \"./GlobalAudioPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalAudioPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./GlobalAudioPlayer.vue?vue&type=style&index=0&id=487dd438&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-487dd438\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=e42767aa\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e42767aa&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"music-search\">\r\n    <div class=\"search-header\">\r\n      <h1 class=\"search-title\">音乐搜索</h1>\r\n      <button class=\"fav-list-btn\" @click=\"$router.push('/favorite')\">我喜欢的音乐歌单</button>\r\n    </div>\r\n    <div class=\"search-bar\">\r\n      <select v-model=\"searchType\" class=\"search-type-select\">\r\n        <option value=\"word\">歌曲名字 ></option>\r\n        <option value=\"id\">ID/链接</option>\r\n      </select>\r\n      <input\r\n        v-model=\"searchInput\"\r\n        @keyup.enter=\"handleSearchUnified\"\r\n        :placeholder=\"searchType === 'word' ? '请输入歌曲名或歌手' : '请输入歌曲ID'\"\r\n        class=\"search-input\"\r\n      />\r\n      <button class=\"search-btn\" @click=\"handleSearchUnified\">搜索</button>\r\n    </div>\r\n    <div v-if=\"loading\">搜索中...</div>\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n  <MusicList v-if=\"results.length\" :list=\"results\" @go-detail=\"handleGoDetail\" class=\"music-list\"/>\r\n    <div v-if=\"resultById\">\r\n  <div class=\"detail-card detail-card-fancy\" @click=\"handleGoDetail(resultById.id)\">\r\n        <img :src=\"resultById.cover\" :alt=\"resultById.song\" class=\"detail-cover detail-cover-fancy\" />\r\n        <div class=\"detail-info detail-info-fancy\">\r\n          <div class=\"detail-song detail-song-fancy\">{{ resultById.song }}</div>\r\n          <div class=\"detail-meta-row\">\r\n            <span class=\"detail-singer\">歌手：{{ resultById.singer }}</span>\r\n            <span class=\"detail-album\">专辑：{{ resultById.album }}</span>\r\n          </div>\r\n          <div class=\"detail-meta-row\">\r\n            <span class=\"detail-time\">发行时间：{{ resultById.time || '未知' }}</span>\r\n            <span class=\"detail-quality\">音质：{{ resultById.quality }}</span>\r\n          </div>\r\n          <div class=\"detail-meta-row\">\r\n            <span class=\"detail-interval\">时长：{{ resultById.interval || '未知' }}</span>\r\n            <span class=\"detail-size\">大小：{{ resultById.size || '未知' }}</span>\r\n            <span class=\"detail-kbps\">码率：{{ resultById.kbps || '未知' }}</span>\r\n          </div>\r\n          <div class=\"detail-link\"><a :href=\"resultById.link\" target=\"_blank\">网易云播放页</a></div>\r\n          <button class=\"fav-btn fancy-fav-btn\" :class=\"{ liked: isFavorite(resultById.id) }\" @click.stop=\"toggleFavorite(resultById.id)\">\r\n            <span v-if=\"isFavorite(resultById.id)\">❤️ 已收藏</span>\r\n            <span v-else>🤍 收藏</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else-if=\"!loading && !error && !results.length && !resultById\">暂无结果</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { searchMusic, searchMusicByIdVkeys } from '../api/music';\r\nimport MusicList from '../components/MusicList.vue';\r\n\r\nexport default {\r\n  name: 'MusicSearch',\r\n  components: {\r\n    MusicList\r\n  },\r\n  data() {\r\n    return {\r\n      favoriteIds: JSON.parse(localStorage.getItem('favoriteMusicIds') || '[]'),\r\n      searchType: 'word',\r\n      searchInput: '',\r\n      results: [],\r\n      resultById: null,\r\n      loading: false,\r\n      error: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    // 挂载时恢复搜索状态\r\n    this.isFavorite()\r\n    const state = localStorage.getItem('musicSearchState');\r\n    if (state) {\r\n      try {\r\n        const obj = JSON.parse(state);\r\n        this.searchType = obj.searchType || 'word';\r\n        this.searchInput = obj.searchInput || '';\r\n        this.results = obj.results || [];\r\n        this.resultById = obj.resultById || null;\r\n      } catch (e) {\r\n        console.error('恢复搜索状态失败：', e);\r\n       }\r\n    }\r\n  },\r\n  methods: {\r\n        isFavorite(id) {\r\n      return this.favoriteIds.includes(id);\r\n    },\r\n        toggleFavorite(id) {\r\n      const idx = this.favoriteIds.indexOf(id);\r\n      if (idx > -1) {\r\n        this.favoriteIds.splice(idx, 1);\r\n      } else {\r\n        this.favoriteIds.push(id);\r\n      }\r\n      localStorage.setItem('favoriteMusicIds', JSON.stringify(this.favoriteIds));\r\n      this.$emit('favorite-change', this.favoriteIds);\r\n    },\r\n    async handleSearchUnified() {\r\n      if (!this.searchInput.trim()) {\r\n        this.error = this.searchType === 'word' ? '请输入关键词' : '请输入歌曲ID或链接';\r\n        this.results = [];\r\n        this.resultById = null;\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.error = '';\r\n      this.results = [];\r\n      this.resultById = null;\r\n      try {\r\n        if (this.searchType === 'word') {\r\n          const res = await searchMusic(this.searchInput);\r\n          if (res.data && res.data.code === 200) {\r\n            this.results = res.data.data || [];\r\n          } else {\r\n            this.error = res.data.message || '搜索失败';\r\n            this.results = [];\r\n          }\r\n        } else {\r\n          // 支持输入网易云链接，自动提取id\r\n          let id = this.searchInput.trim();\r\n          const linkMatch = id.match(/id=(\\d+)/);\r\n          if (linkMatch) {\r\n            id = linkMatch[1];\r\n          }\r\n          const res = await searchMusicByIdVkeys(id);\r\n          console.log('ID/链接搜索结果:', res);\r\n          if (res.data && res.data.code === 200 && res.data.data) {\r\n            this.resultById = res.data.data;\r\n          } else {\r\n            this.error = res.data.message || '未找到该ID对应的歌曲';\r\n            this.resultById = null;\r\n          }\r\n        }\r\n      } catch (e) {\r\n        this.error = '请求失败，请稍后重试';\r\n        this.results = [];\r\n        this.resultById = null;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    handleGoDetail(id) {\r\n      // 跳转详情页前保存状态\r\n      localStorage.setItem('musicSearchState', JSON.stringify({\r\n        searchType: this.searchType,\r\n        searchInput: this.searchInput,\r\n        results: this.results,\r\n        resultById: this.resultById\r\n      }));\r\n      this.$router.push({ path: `/music/${id}` });\r\n    }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.music-list {\r\n  animation: fadeInUp 0.7s;\r\n}\r\n.detail-card-fancy {\r\n  background: linear-gradient(120deg, #eafaf3 0%, #fff 100%);\r\n  border-radius: 20px;\r\n  box-shadow: 0 4px 24px rgba(66,185,131,0.13);\r\n  padding: 36px 44px;\r\n  max-width: 720px;\r\n  margin: 40px auto 32px auto;\r\n  transition: box-shadow 0.2s;\r\n  animation: fadeInUp 0.7s;\r\n}\r\n.detail-cover-fancy {\r\n  width: 140px;\r\n  height: 140px;\r\n  border-radius: 16px;\r\n  margin-right: 44px;\r\n  box-shadow: 0 6px 24px rgba(66,185,131,0.13);\r\n}\r\n.detail-info-fancy {\r\n  gap: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.detail-song-fancy {\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  margin-bottom: 12px;\r\n  letter-spacing: 1.5px;\r\n}\r\n.detail-meta-row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 18px;\r\n  margin-bottom: 2px;\r\n  font-size: 16px;\r\n  color: #369870;\r\n}\r\n.fancy-fav-btn {\r\n  margin-top: 16px;\r\n  padding: 8px 22px;\r\n  font-size: 17px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  color: #42b983;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  cursor: pointer;\r\n  transition: background 0.2s, color 0.2s, box-shadow 0.2s;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n.fancy-fav-btn.liked {\r\n  background: linear-gradient(90deg, #42b983 0%, #eafaf3 100%);\r\n  color: #e74c3c;\r\n}\r\n.fancy-fav-btn:hover {\r\n  background: linear-gradient(90deg, #42b983 0%, #eafaf3 100%);\r\n  color: #e67e22;\r\n}\r\n/* 美化搜索结果中的 audio 播放器 */\r\n.audio-player-fancy {\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  border-radius: 14px;\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.13);\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  border: 1px solid #eafaf3;\r\n  padding: 8px 0;\r\n  transition: box-shadow 0.2s, background 0.2s;\r\n}\r\n.audio-player-fancy:focus, .audio-player-fancy:hover {\r\n  box-shadow: 0 8px 32px rgba(66,185,131,0.18);\r\n  background: linear-gradient(90deg, #42b983 0%, #eafaf3 100%);\r\n}\r\n.detail-audio {\r\n  margin-top: 12px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n@media (max-width: 700px) {\r\n  .audio-player-fancy {\r\n    border-radius: 10px;\r\n    padding: 4px 0;\r\n  }\r\n}\r\n.detail-card {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 2px 16px rgba(66,185,131,0.10);\r\n  margin: 30px auto;\r\n  max-width: 650px;\r\n  padding: 28px 32px;\r\n  border: none;\r\n}\r\n.detail-cover {\r\n  width: 120px;\r\n  height: 120px;\r\n  object-fit: cover;\r\n  border-radius: 12px;\r\n  margin-right: 32px;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n}\r\n.detail-info {\r\n  text-align: left;\r\n  flex: 1;\r\n}\r\n.detail-song {\r\n  font-size: 26px;\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  margin-bottom: 10px;\r\n}\r\n.detail-singer {\r\n  font-size: 17px;\r\n  color: #42b983;\r\n  margin-bottom: 4px;\r\n}\r\n.detail-album {\r\n  font-size: 17px;\r\n  color: #369870;\r\n  margin-bottom: 4px;\r\n}\r\n.detail-time, .detail-quality, .detail-interval, .detail-size, .detail-kbps {\r\n  font-size: 15px;\r\n  color: #888;\r\n  margin-bottom: 4px;\r\n}\r\n.detail-link {\r\n  margin-top: 8px;\r\n}\r\n.detail-link a {\r\n  color: #42b983;\r\n  text-decoration: underline;\r\n  font-size: 15px;\r\n}\r\n.detail-audio {\r\n  margin-top: 12px;\r\n}\r\n/* 搜索页美化：增强布局、交互动画、响应式适配 */\r\n#music-search {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 40px;\r\n  min-height: 100vh;\r\n  background: linear-gradient(120deg, #eafaf3 0%, #fff 100%);\r\n}\r\n.search-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 32px;\r\n  margin: 0 auto 24px auto;\r\n  max-width: 700px;\r\n  animation: fadeInDown 0.7s;\r\n}\r\n.search-title {\r\n  margin: 0;\r\n  font-size: 2.4rem;\r\n  font-weight: 700;\r\n  letter-spacing: 2px;\r\n  color: #369870;\r\n  text-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n}\r\n.fav-list-btn {\r\n  background: linear-gradient(90deg, #42b983 0%, #369870 100%);\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 32px;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  transition: background 0.2s, color 0.2s, box-shadow 0.2s, transform 0.2s;\r\n}\r\n.fav-list-btn:hover {\r\n  background: linear-gradient(90deg, #369870 0%, #42b983 100%);\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n  transform: scale(1.05);\r\n}\r\n.search-bar {\r\n  margin-bottom: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #f8f8f8 100%);\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(66,185,131,0.08);\r\n  padding: 22px 28px;\r\n  gap: 0;\r\n  animation: fadeInUp 0.7s;\r\n}\r\n.search-type-select {\r\n  padding: 12px 18px;\r\n  font-size: 18px;\r\n  border: none;\r\n  border-radius: 12px 0 0 12px;\r\n  outline: none;\r\n  background: linear-gradient(90deg, #42b983 0%, #eafaf3 100%);\r\n  margin-right: -1px;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  transition: box-shadow 0.2s, background 0.2s;\r\n  appearance: none;\r\n}\r\n.search-type-select:focus, .search-type-select:hover {\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n  background: linear-gradient(90deg, #369870 0%, #eafaf3 100%);\r\n}\r\n.search-input {\r\n  padding: 12px;\r\n  width: 280px;\r\n  font-size: 18px;\r\n  border: none;\r\n  border-radius: 0 12px 12px 0;\r\n  outline: none;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n}\r\n.search-btn {\r\n  padding: 12px 28px;\r\n  margin-left: 14px;\r\n  font-size: 18px;\r\n  background: linear-gradient(90deg, #42b983 0%, #369870 100%);\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  transition: background 0.2s, box-shadow 0.2s, transform 0.2s;\r\n}\r\n.search-btn:hover {\r\n  background: linear-gradient(90deg, #369870 0%, #42b983 100%);\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n  transform: scale(1.05);\r\n}\r\n@media (max-width: 700px) {\r\n  .search-header {\r\n    flex-direction: column;\r\n    gap: 18px;\r\n  }\r\n  .search-bar {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    padding: 16px 8px;\r\n  }\r\n  .search-input {\r\n    width: 100%;\r\n    min-width: 180px;\r\n  }\r\n}\r\n@keyframes fadeInDown {\r\n  from { opacity: 0; transform: translateY(-30px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n@keyframes fadeInUp {\r\n  from { opacity: 0; transform: translateY(30px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n.search-type-select option {\r\n  border-radius: 8px;\r\n  background: #f8f8f8;\r\n  color: #2c3e50;\r\n  padding: 8px 16px;\r\n  margin: 4px 0;\r\n}\r\n.search-btn:hover {\r\n  background: linear-gradient(90deg, #369870 0%, #42b983 100%);\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n}\r\n</style>\r\n","<template>\r\n  <ul class=\"music-list\">\r\n    <li v-for=\"(item, index) in list\" :key=\"item.id\" class=\"music-item\">\r\n      <img :src=\"item.cover\" :alt=\"item.song\" class=\"cover\" @click=\"goDetail(item.id)\" style=\"cursor:pointer;\" />\r\n      <div class=\"info\" @click=\"goDetail(item.id)\" style=\"cursor:pointer;flex:1;\">\r\n        <div class=\"song\">{{ item.song }}</div>\r\n        <div class=\"singer\">歌手：{{ item.singer }}</div>\r\n        <div class=\"album\">专辑：{{ item.album }}</div>\r\n        <div class=\"time\">发行时间：{{ item.time || '未知' }}</div>\r\n        <div class=\"quality\">音质：{{ item.quality }}</div>\r\n      </div>\r\n      <button class=\"fav-btn\" :class=\"{ liked: isFavorite(item.id) }\" @click.stop=\"toggleFavorite(item.id)\">\r\n        <span v-if=\"isFavorite(item.id)\">❤️</span>\r\n        <span v-else>🤍</span>\r\n      </button>\r\n      <button class=\"play-btn\" @click=\"handlePlay(item, index)\">\r\n        <van-icon name=\"play-circle\" /></button>\r\n      <audio\r\n       v-if=\"audioMap[item.id]\" \r\n       :src=\"audioMap[item.id]\" \r\n       controls\r\n        style=\"width:120px;margin-left:8px;vertical-align:middle;display: none;\"></audio>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { searchMusicByIdVkeys } from '../api/music';\r\n\r\nexport default {\r\n  name: 'MusicList',\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      favoriteIds: JSON.parse(localStorage.getItem('favoriteMusicIds') || '[]'),\r\n      audioMap: {} // {id: url}\r\n    };\r\n  },\r\n  methods: {\r\n        playGlobal(item, index, url) {\r\n      // 触发全局播放器播放\r\n      this.$root.player = {\r\n        url: url,\r\n        song: item.name || item.song,\r\n        singer: item.singer || item.ar_name,\r\n        cover: item.cover || item.pic,\r\n        album: item.album || item.al_name,\r\n        quality: item.quality,\r\n        size: item.size,\r\n        interval: item.interval,\r\n        kbps: item.kbps,\r\n        id: item.id,\r\n        playIndex: index,           // 当前下标\r\n        playList: this.list         // 整个播放列表\r\n      };\r\n    },\r\n      async handlePlay(item, index) {\r\n        console.log(\"播放了\",index)\r\n    // 先加载音乐 URL\r\n    const res = await searchMusicByIdVkeys(item.id);\r\n    let url = '';\r\n    if (res.data && res.data.code === 200 && res.data.data.url) {\r\n      url = res.data.data.url;\r\n      this.audioMap[item.id] = res.data.data.url;\r\n    } else {\r\n      this.audioMap[item.id] = '';\r\n    }\r\n\r\n    // 再触发全局播放\r\n    this.playGlobal(item, index, url);\r\n  },\r\n\r\ngoDetail(id) {\r\n  this.$root.player = {\r\n    ...this.$root.player,\r\n    playList: this.list   //  把当前列表放到全局\r\n  };\r\n  this.$emit('go-detail', id);\r\n}\r\n,\r\n    isFavorite(id) {\r\n      return this.favoriteIds.includes(id);\r\n    },\r\n    toggleFavorite(id) {\r\n      const idx = this.favoriteIds.indexOf(id);\r\n      if (idx > -1) {\r\n        this.favoriteIds.splice(idx, 1);\r\n      } else {\r\n        this.favoriteIds.push(id);\r\n      }\r\n      localStorage.setItem('favoriteMusicIds', JSON.stringify(this.favoriteIds));\r\n      this.$emit('favorite-change', this.favoriteIds);\r\n    },\r\n\r\n  },\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.play-btn {\r\n  background: #fff;\r\n  color: #42b983;\r\n  border: 1.5px solid #42b983;\r\n  border-radius: 6px;\r\n  padding: 2px 10px;\r\n  font-size: 18px;\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n  transition: background 0.2s, color 0.2s;\r\n}\r\n.play-btn:hover {\r\n  background: #42b983;\r\n  color: #fff;\r\n}\r\n .music-list {\r\n   list-style: none;\r\n   padding: 0;\r\n   margin: 0 auto;\r\n   max-width: 700px;\r\n }\r\n .music-item {\r\n   display: flex;\r\n   align-items: center;\r\n   background: #fff;\r\n   border-radius: 16px;\r\n   box-shadow: 0 2px 16px rgba(66,185,131,0.08);\r\n   margin-bottom: 18px;\r\n   padding: 18px 24px;\r\n   transition: box-shadow 0.2s, transform 0.2s;\r\n   border: none;\r\n }\r\n .music-item:hover {\r\n   box-shadow: 0 6px 32px rgba(66,185,131,0.18);\r\n   transform: translateY(-2px) scale(1.01);\r\n }\r\n .cover {\r\n   width: 80px;\r\n   height: 80px;\r\n   object-fit: cover;\r\n   border-radius: 12px;\r\n   margin-right: 24px;\r\n   box-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n }\r\n .info {\r\n   text-align: left;\r\n   flex: 1;\r\n }\r\n .song {\r\n   font-size: 22px;\r\n   font-weight: bold;\r\n   color: #2c3e50;\r\n   margin-bottom: 6px;\r\n }\r\n .singer {\r\n   font-size: 15px;\r\n   color: #42b983;\r\n   margin-top: 2px;\r\n }\r\n .album {\r\n   font-size: 15px;\r\n   color: #369870;\r\n   margin-top: 2px;\r\n }\r\n .time, .quality {\r\n   font-size: 14px;\r\n   color: #888;\r\n   margin-top: 2px;\r\n }\r\n.fav-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 26px;\r\n  margin-left: 12px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  transition: transform 0.1s;\r\n}\r\n.fav-btn.liked {\r\n  color: #e74c3c;\r\n  transform: scale(1.15);\r\n}\r\n</style>\r\n","import { render } from \"./MusicList.vue?vue&type=template&id=bcd872e6&scoped=true\"\nimport script from \"./MusicList.vue?vue&type=script&lang=js\"\nexport * from \"./MusicList.vue?vue&type=script&lang=js\"\n\nimport \"./MusicList.vue?vue&type=style&index=0&id=bcd872e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bcd872e6\"]])\n\nexport default __exports__","import { render } from \"./MusicSearch.vue?vue&type=template&id=2e796eae&scoped=true\"\nimport script from \"./MusicSearch.vue?vue&type=script&lang=js\"\nexport * from \"./MusicSearch.vue?vue&type=script&lang=js\"\n\nimport \"./MusicSearch.vue?vue&type=style&index=0&id=2e796eae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e796eae\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"music\" class=\"music-detail-flex\">\r\n\r\n    <div class=\"music-detail-left\">\r\n      <img :src=\"music.cover\" :alt=\"music.song\" class=\"music-detail-cover\" />\r\n            <h2 class=\"music-detail-title\">{{ music.song }}</h2>\r\n      <div class=\"music-detail-meta\">\r\n        <div class=\"music-detail-singer\">歌手：{{ music.singer }}</div>\r\n        <div class=\"music-detail-album\">专辑：{{ music.album }}</div>\r\n        <div class=\"music-detail-quality\">音质：{{ music.quality }}</div>\r\n        <div class=\"music-detail-size\">大小：{{ music.size || '未知' }}</div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"music-detail-right\">\r\n\r\n      <div v-if=\"parsedLyric.length\" class=\"lyric-block\" ref=\"lyricBlock\">\r\n        <h3>歌词</h3>\r\n        <div class=\"lyric-scroll\">\r\n          <div v-for=\"(line, idx) in parsedLyric\" :key=\"idx\"\r\n            :class=\"['lyric-line', { active: idx === currentLine }]\"\r\n            :ref=\"idx === currentLine ? 'activeLyric' : null\">\r\n            {{ line.text }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"lyric\" class=\"lyric-block\">\r\n        <h3>歌词</h3>\r\n        <pre class=\"lyric\">{{ lyric }}</pre>\r\n      </div>\r\n      <div class=\"select-audio\">\r\n            <div class=\"music-detail-select\">\r\n        <label class=\"music-detail-label\">音质：</label>\r\n        <select v-model=\"selectedQuality\" @change=\"fetchAndPlay\" class=\"music-detail-selectbox\">\r\n          <option v-for=\"item in qualityOptions\" :key=\"item.value\" :value=\"item.value\">{{ item.label }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"music-detail-audio\">\r\n        <!-- 播放按钮 -->\r\n        <button @click=\"playGlobal\">播放</button>\r\n\r\n        <div v-if=\"!audioUrl && !loading\" class=\"music-detail-nourl\">请选择音质获取试听链接</div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-else-if=\"loading\">加载中...</div>\r\n  <div v-else-if=\"error\" class=\"error\">{{ error }}</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { searchMusicByIdVkeys, fetchLyricById } from '../api/music';\r\n\r\nexport default {\r\n  name: 'MusicDetail',\r\n  data() {\r\n    return {\r\n      music: null,\r\n      loading: false,\r\n      error: '',\r\n      selectedQuality: 4, // 默认320k\r\n      qualityOptions: [\r\n        { value: 1, label: '标准（64k）' },\r\n        { value: 2, label: '标准（128k）' },\r\n        { value: 3, label: 'HQ极高（192k）' },\r\n        { value: 4, label: 'HQ极高（320k）' },\r\n        { value: 5, label: 'SQ无损' },\r\n        { value: 6, label: '高解析度无损（Hi-Res）' },\r\n        { value: 7, label: '高清臻音（Spatial Autio）' },\r\n        { value: 8, label: '沉浸环绕声（Surround Autio）' },\r\n        { value: 9, label: '超清母带（Master）' }\r\n      ],\r\n      audioUrl: '',\r\n  lyric: '',\r\n  parsedLyric: [],\r\n  currentLine: 0,\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchAndPlay();\r\n    await this.fetchLyric();\r\n    \r\n  },\r\n\r\n  methods: {\r\n      handleLyric(current) {\r\n    let idx = 0;\r\n    for (let i = 0; i < this.parsedLyric.length; i++) {\r\n      if (current >= this.parsedLyric[i].time) idx = i;\r\n      else break;\r\n    }\r\n    this.currentLine = idx;\r\n    this.scrollLyric();\r\n  },\r\n    // 选择音质后自动请求\r\nasync fetchAndPlay() {\r\n  const id = this.$route.params.id;\r\n  if (!id) {\r\n    this.error = '无效的歌曲ID';\r\n    return;\r\n  }\r\n\r\n  this.loading = true;\r\n  this.audioUrl = '';\r\n\r\n  let attempts = 0;\r\n  const maxAttempts = 10;\r\n\r\n  while (attempts < maxAttempts) {\r\n    try {\r\n      const res = await searchMusicByIdVkeys(id, this.selectedQuality);\r\n      if (res.data && res.data.code === 200) {\r\n        this.music = res.data.data;\r\n        this.audioUrl = res.data.data.url || '';\r\n        this.error = '';\r\n        break; // 成功就退出循环\r\n      } else if (res.data && res.data.code === 503) {\r\n        attempts++;\r\n        if (attempts >= maxAttempts) {\r\n          this.error = '请求失败，已重试 10 次';\r\n        } else {\r\n          console.warn(`503 错误，正在重试 (${attempts}/${maxAttempts})...`);\r\n          continue; // 继续下一次循环\r\n        }\r\n      } else {\r\n        this.error = res.data?.message || '未找到该音质的播放链接';\r\n        break; // 不是 503 就不用重试\r\n      }\r\n    } catch (e) {\r\n      this.error = '请求失败，请稍后重试';\r\n      break;\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n}\r\n,\r\n\r\nasync fetchLyric() {\r\n  const id = this.$route.params.id;\r\n  if (!id) return;\r\n\r\n  let attempts = 0;\r\n  let success = false;\r\n\r\n  while (attempts < 5 && !success) {\r\n    try {\r\n      const res = await fetchLyricById(id);\r\n\r\n      if (res.data && res.data.code === 200) {\r\n        this.lyric = res.data.data.lrc || '';\r\n        console.log('获取歌词:', this.lyric);\r\n        this.parsedLyric = this.parseLRC(this.lyric);\r\n        success = true;\r\n      } else if (res.data && res.data.code === 503) {\r\n        attempts++;\r\n        // 可选：加个延迟，避免过快重试\r\n        await new Promise(r => setTimeout(r, 500));\r\n      } else {\r\n        this.lyric = '暂无歌词';\r\n        this.parsedLyric = [];\r\n        break;\r\n      }\r\n    } catch (e) {\r\n      attempts++;\r\n      if (attempts >= 5) {\r\n        this.lyric = '歌词获取失败';\r\n        this.parsedLyric = [];\r\n      }\r\n    }\r\n  }\r\n}\r\n,\r\n\r\n    // LRC歌词解析\r\nparseLRC(lrc) {\r\n  if (!lrc) return [];\r\n  const lines = lrc.split(/\\r?\\n/);\r\n  const result = [];\r\n  const timeReg = /\\[(\\d{2}):(\\d{2}(?:\\.\\d{1,3})?)\\]/g;\r\n\r\n  for (const line of lines) {\r\n    const matches = [...line.matchAll(timeReg)];\r\n    const text = line.replace(timeReg, '').trim();\r\n    for (const m of matches) {\r\n      const min = parseInt(m[1]);\r\n      const sec = parseFloat(m[2]);\r\n      const time = min * 60 + sec;\r\n      if (text) result.push({ time, text });\r\n    }\r\n  }\r\n\r\n  return result.sort((a, b) => a.time - b.time);\r\n}\r\n,\r\n\r\n    // 音频进度事件\r\n    onTimeUpdate(e) {\r\n      const audio = e.target;\r\n      const current = audio.currentTime;\r\n      let idx = 0;\r\n      for (let i = 0; i < this.parsedLyric.length; i++) {\r\n        if (current >= this.parsedLyric[i].time) {\r\n          idx = i;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      this.currentLine = idx;\r\n      this.scrollLyric();\r\n    },\r\n\r\n    // 滚动歌词到当前行\r\n    scrollLyric() {\r\n      this.$nextTick(() => {\r\n        const block = this.$refs.lyricBlock;\r\n        const active = this.$refs.activeLyric;\r\n        if (block && active && active[0]) {\r\n          const blockEl = block;\r\n          const activeEl = active[0];\r\n          blockEl.scrollTop = activeEl.offsetTop - blockEl.offsetHeight / 2 + activeEl.offsetHeight / 2;\r\n        }\r\n      });\r\n    },\r\nplayGlobal() {\r\n  if (this.music) {\r\n    // 从 MusicList.vue 拿到歌曲列表\r\n    const playList = this.$root.player.playList || this.$route.query.playList || []; \r\n\r\n    // 找到当前歌曲在列表中的下标\r\n    const playIndex = playList.findIndex(item => item.id === this.music.id);\r\n\r\n    this.$root.player = {\r\n      ...this.$root.player,\r\n      ...this.music,\r\n      src: this.audioUrl,   //  加上音频链接\r\n      playList,           // 用 MusicList.vue 的 list\r\n      playIndex: playIndex !== -1 ? playIndex : 0\r\n    };\r\n  }\r\n}\r\n\r\n\r\n,\r\n\r\n},\r\n  watch: {\r\n    selectedQuality() {\r\n      this.fetchAndPlay();\r\n      this.fetchLyric();\r\n    },\r\n    '$root.player.currentTime'(newTime) {\r\n      // 监听全局播放器的时间变化，触发歌词滚动\r\n      if (this.$root.player && this.$root.player.id === this.music?.id) {\r\n        this.handleLyric(newTime);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* 详情页左右布局美化升级 */\r\n.music-detail-flex {\r\n  display: flex;\r\n  max-width: 900px;\r\n  margin: 40px auto;\r\n  background: rgba(255,255,255,0.85);\r\n  border-radius: 22px;\r\n  box-shadow: 0 8px 32px rgba(66,185,131,0.18), 0 1.5px 8px rgba(66,185,131,0.10);\r\n  padding: 0;\r\n  backdrop-filter: blur(16px) saturate(180%);\r\n  border: 1.5px solid rgba(66,185,131,0.08);\r\n  transition: box-shadow 0.3s;\r\n}\r\n.music-detail-flex:hover {\r\n  box-shadow: 0 16px 48px rgba(66,185,131,0.22), 0 2px 12px rgba(66,185,131,0.12);\r\n}\r\n.music-detail-left {\r\n  flex: 0 0 260px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(120deg, #eafaf3 0%, #fff 100%);\r\n  border-top-left-radius: 22px;\r\n  border-bottom-left-radius: 22px;\r\n  padding: 48px 0;\r\n  box-shadow: 0 2px 12px rgba(66,185,131,0.08);\r\n}\r\n.music-detail-cover {\r\n  width: 190px;\r\n  height: 190px;\r\n  object-fit: cover;\r\n  border-radius: 18px;\r\n  box-shadow: 0 4px 24px rgba(66,185,131,0.18);\r\n  border: 2px solid #eafaf3;\r\n  transition: box-shadow 0.2s, border 0.2s;\r\n}\r\n.music-detail-cover:hover {\r\n  box-shadow: 0 8px 32px rgba(66,185,131,0.28);\r\n  border: 2px solid #42b983;\r\n}\r\n.music-detail-title {\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  margin: 28px 0 18px 0;\r\n  text-align: center;\r\n  letter-spacing: 1.5px;\r\n  text-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n}\r\n.music-detail-meta {\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n}\r\n.music-detail-singer {\r\n  font-size: 17px;\r\n  color: #42b983;\r\n  margin-bottom: 4px;\r\n  font-weight: 500;\r\n}\r\n.music-detail-album {\r\n  font-size: 16px;\r\n  color: #369870;\r\n  margin-bottom: 4px;\r\n}\r\n.music-detail-quality, .music-detail-size {\r\n  font-size: 15px;\r\n  color: #888;\r\n  margin-bottom: 4px;\r\n}\r\n.music-detail-right {\r\n  flex: 1;\r\n  padding: 48px 48px 48px 38px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n}\r\n/* 滚动歌词美化 */\r\n.lyric-block {\r\n  margin-top: 0;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  border-radius: 12px;\r\n  padding: 18px 20px;\r\n  width: 100%;\r\n  min-height: 180px;\r\n  max-height: 340px;\r\n  overflow-y: auto;\r\n  box-shadow: 0 2px 12px rgba(66,185,131,0.10);\r\n  animation: lyricFadeIn 0.8s;\r\n  position: relative;\r\n}\r\n.lyric-scroll {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n.lyric-line {\r\n  font-size: 16px;\r\n  color: #222;\r\n  line-height: 2.1;\r\n  letter-spacing: 0.5px;\r\n  font-family: 'Fira Mono', 'Consolas', 'Menlo', monospace;\r\n  padding: 2px 0;\r\n  transition: color 0.2s, font-size 0.2s;\r\n  opacity: 0.7;\r\n}\r\n.lyric-line.active {\r\n  color: #42b983;\r\n  font-size: 19px;\r\n  font-weight: bold;\r\n  opacity: 1;\r\n  text-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n}\r\n.select-audio {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-end;\r\n  margin-top: 32px;\r\n}\r\n.music-detail-select {\r\n  width: auto;\r\n  margin-bottom: 0;\r\n  text-align: left;\r\n  margin-right: 24px;\r\n}\r\n.music-detail-label {\r\n  font-size: 16px;\r\n  margin-right: 8px;\r\n  color: #2c3e50;\r\n}\r\n.music-detail-selectbox {\r\n  padding: 7px 16px;\r\n  font-size: 16px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  background: linear-gradient(90deg, #eafaf3 0%, #fff 100%);\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  transition: box-shadow 0.2s, background 0.2s;\r\n  appearance: none;\r\n}\r\n.music-detail-selectbox:focus, .music-detail-selectbox:hover {\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n  background: linear-gradient(90deg, #369870 0%, #eafaf3 100%);\r\n}\r\n.music-detail-audio {\r\n  width: auto;\r\n  margin-bottom: 0;\r\n  margin-left: 12px;\r\n}\r\n.music-detail-audio button {\r\n  padding: 8px 28px;\r\n  font-size: 17px;\r\n  border-radius: 24px;\r\n  background: linear-gradient(90deg, #42b983 0%, #eafaf3 100%);\r\n  color: #fff;\r\n  border: none;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.10);\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: background 0.2s, box-shadow 0.2s;\r\n}\r\n.music-detail-audio button:hover {\r\n  background: linear-gradient(90deg, #369870 0%, #42b983 100%);\r\n  box-shadow: 0 4px 16px rgba(66,185,131,0.18);\r\n}\r\n.music-detail-player {\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(66,185,131,0.08);\r\n  background: #f8f8f8;\r\n}\r\n.music-detail-nourl {\r\n  color: #e74c3c;\r\n  margin-top: 20px;\r\n  text-align: center;\r\n  font-size: 15px;\r\n}\r\n.error {\r\n  color: #e74c3c;\r\n  margin-top: 40px;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./MusicDetail.vue?vue&type=template&id=ebce81b2&scoped=true\"\nimport script from \"./MusicDetail.vue?vue&type=script&lang=js\"\nexport * from \"./MusicDetail.vue?vue&type=script&lang=js\"\n\nimport \"./MusicDetail.vue?vue&type=style&index=0&id=ebce81b2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ebce81b2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"favorite-list\">\r\n    <h2>我喜欢的音乐</h2>\r\n\r\n    <!-- ✅ 用 TransitionGroup 包裹子组件的内容 -->\r\n    <TransitionGroup name=\"stagger\" tag=\"div\">\r\n      <FavoriteMusicList\r\n        v-if=\"favoriteSongs.length\"\r\n        :key=\"'fav-list'\"\r\n        :list=\"favoriteSongs\"\r\n        @refresh=\"fetchFavorites\"\r\n      />\r\n    </TransitionGroup>\r\n\r\n    <div v-if=\"!favoriteSongs.length\" class=\"empty\">暂无喜欢的音乐</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FavoriteMusicList from '../components/FavoriteMusicList.vue';\r\nimport { searchMusicByIdVkeys } from '../api/music';\r\n\r\nexport default {\r\n  name: 'FavoriteList',\r\n  components: { FavoriteMusicList },\r\n  data() {\r\n    return {\r\n      favoriteSongs: [],\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchFavorites();\r\n  },\r\n  methods: {\r\n    async fetchFavorites() {\r\n      const ids = JSON.parse(localStorage.getItem('favoriteMusicIds') || '[]');\r\n      if (!ids.length) {\r\n        this.favoriteSongs = [];\r\n        return;\r\n      }\r\n\r\n      // 从缓存读取基础数据（不含 URL）\r\n      const cache = JSON.parse(localStorage.getItem('favoriteMusicCache') || '[]');\r\n      const cachedMap = new Map(cache.map(song => [song.id, song]));\r\n\r\n      // 取前50首做首屏显示\r\n      const first50Ids = ids.slice(0, 50);\r\n      const first50SongsBase = first50Ids\r\n        .map(id => {\r\n          const song = cachedMap.get(id);\r\n          if (song) {\r\n            const { url, ...rest } = song;\r\n            console.log(url)\r\n            return rest;\r\n          }\r\n          return null;\r\n        })\r\n        .filter(Boolean);\r\n\r\n      // ✅ 分步加入 favoriteSongs，让动画逐个触发\r\n      this.favoriteSongs = [];\r\n      let i = 0;\r\n      const addTimer = setInterval(() => {\r\n        if (i < first50SongsBase.length) {\r\n          this.favoriteSongs.push(first50SongsBase[i]);\r\n          i++;\r\n        } else {\r\n          clearInterval(addTimer);\r\n        }\r\n      }, 100); // 每隔 0.1 秒加入一首\r\n\r\n      // 异步获取 URL 并补齐\r\n      const urlResults = await Promise.all(\r\n        first50SongsBase.map(song => this.fetchUrlOnly(song.id))\r\n      );\r\n      first50SongsBase.forEach((song, i) => {\r\n        song.url = urlResults[i]?.url || '';\r\n      });\r\n\r\n      // 获取剩下的歌曲\r\n      const restIds = ids.slice(50);\r\n      if (restIds.length) {\r\n        const restResults = await Promise.all(restIds.map(id => this.fetchWithRetry(id)));\r\n        this.favoriteSongs = [...this.favoriteSongs, ...restResults.flat()];\r\n      }\r\n    },\r\n\r\n    async fetchUrlOnly(id) {\r\n      try {\r\n        const res = await searchMusicByIdVkeys(id);\r\n        if (res.data && res.data.code === 200) {\r\n          const data = res.data.data?.[0] || res.data.data;\r\n          return { url: data.url };\r\n        }\r\n      } catch (e) {\r\n        console.warn('获取url失败:', id, e);\r\n      }\r\n      return {};\r\n    },\r\n\r\n    async fetchWithRetry(id, maxRetries = 8) {\r\n      let attempt = 0;\r\n      while (attempt < maxRetries) {\r\n        const res = await searchMusicByIdVkeys(id);\r\n        if (res.data && res.data.code === 200) {\r\n          return res.data.data;\r\n        } else if (res.data && res.data.code === 503) {\r\n          attempt++;\r\n          await new Promise(r => setTimeout(r, 200));\r\n        } else break;\r\n      }\r\n      return [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.favorite-list {\r\n  max-width: 700px;\r\n  margin: 40px auto;\r\n  padding: 24px;\r\n  border: 1px solid #eee;\r\n  border-radius: 12px;\r\n  background: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.empty {\r\n  color: #888;\r\n  margin-top: 30px;\r\n}\r\n\r\n/* ✅ 进场动画定义 */\r\n.stagger-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n}\r\n.stagger-enter-active {\r\n  transition: all 0.6s ease;\r\n  transition-delay: calc(var(--i, 0) * 0.1s);\r\n}\r\n.stagger-enter-to {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n</style>\r\n","<template>\r\n  <ul class=\"fav-music-list\">\r\n    <li\r\n      v-for=\"(item, index) in list\"\r\n      :key=\"item.url || item.id\"\r\n      :style=\"{ '--i': index }\"\r\n      class=\"fav-music-item\"\r\n      @click=\"handleGoDetail(item.id)\"\r\n    >\r\n      <img\r\n        :src=\"item.pic || item.cover\"\r\n        :alt=\"item.name || item.song\"\r\n        class=\"fav-cover\"\r\n      />\r\n      <div class=\"fav-info\">\r\n        <div class=\"fav-song\">{{ item.name || item.song }}</div>\r\n        <div class=\"fav-singer\">歌手：{{ item.ar_name || item.singer }}</div>\r\n        <div class=\"fav-album\">专辑：{{ item.al_name || item.album }}</div>\r\n        <div class=\"fav-quality\">音质：{{ item.quality }}</div>\r\n\r\n        <div class=\"fav-audio-row\">\r\n          <button class=\"play-btn\" @click.stop=\"playGlobal(item, index)\">\r\n            <van-icon name=\"play-circle-o\" /> 播放\r\n          </button>\r\n          <button class=\"unfav-btn\" @click.stop=\"removeFavorite(item.id)\">❤️</button>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"FavoriteMusicList\",\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  methods: {\r\n    playGlobal(item, index) {\r\n      // 告诉全局播放器播放这个音乐\r\n      this.$root.player = {\r\n        url: item.url,\r\n        song: item.name || item.song,\r\n        singer: item.singer || item.ar_name,\r\n        cover: item.cover || item.pic,\r\n        album: item.album || item.al_name,\r\n        id: item.id,\r\n        playIndex: index,\r\n        playList: this.list,\r\n      };\r\n    },\r\n\r\n    removeFavorite(id) {\r\n      let ids = JSON.parse(localStorage.getItem(\"favoriteMusicIds\") || \"[]\");\r\n      ids = ids.filter(favId => favId !== id);\r\n      localStorage.setItem(\"favoriteMusicIds\", JSON.stringify(ids));\r\n\r\n      // 同步更新缓存\r\n      const cache = JSON.parse(localStorage.getItem(\"favoriteMusicCache\") || \"[]\");\r\n      const newCache = cache.filter(song => song.id !== id);\r\n      localStorage.setItem(\"favoriteMusicCache\", JSON.stringify(newCache));\r\n\r\n      // 通知父组件刷新\r\n      this.$emit(\"refresh\");\r\n    },\r\n\r\n    handleGoDetail(id) {\r\n      this.$router.push({ path: `/music/${id}` });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.play-btn {\r\n  background: #fff;\r\n  color: #42b983;\r\n  border: 1.5px solid #42b983;\r\n  border-radius: 6px;\r\n  padding: 2px 10px;\r\n  font-size: 18px;\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n  transition: background 0.2s, color 0.2s;\r\n}\r\n.play-btn:hover {\r\n  background: #42b983;\r\n  color: #fff;\r\n}\r\n.fav-music-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0 auto;\r\n  max-width: 700px;\r\n}\r\n.fav-music-item {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 2px 16px rgba(66, 185, 131, 0.1);\r\n  margin-bottom: 18px;\r\n  padding: 18px 24px;\r\n  transition: box-shadow 0.2s, transform 0.2s;\r\n  border: none;\r\n}\r\n.fav-music-item:hover {\r\n  box-shadow: 0 6px 32px rgba(66, 185, 131, 0.18);\r\n  transform: translateY(-2px) scale(1.01);\r\n}\r\n.fav-cover {\r\n  width: 80px;\r\n  height: 80px;\r\n  object-fit: cover;\r\n  border-radius: 12px;\r\n  margin-right: 24px;\r\n  box-shadow: 0 2px 8px rgba(66, 185, 131, 0.1);\r\n}\r\n.fav-info {\r\n  text-align: left;\r\n  flex: 1;\r\n}\r\n.fav-song {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  margin-bottom: 6px;\r\n}\r\n.fav-singer {\r\n  font-size: 15px;\r\n  color: #42b983;\r\n  margin-bottom: 2px;\r\n}\r\n.fav-album {\r\n  font-size: 15px;\r\n  color: #369870;\r\n  margin-bottom: 2px;\r\n}\r\n.fav-quality {\r\n  font-size: 14px;\r\n  color: #888;\r\n  margin-bottom: 2px;\r\n}\r\n.fav-audio {\r\n  margin-top: 8px;\r\n}\r\n.fav-audio-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-top: 8px;\r\n}\r\n.fav-audio-player {\r\n  width: 100%;\r\n  min-width: 220px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(66, 185, 131, 0.08);\r\n  background: #f8f8f8;\r\n}\r\n.unfav-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 26px;\r\n  margin-left: 12px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  transition: transform 0.1s;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n}\r\n</style>\r\n","import { render } from \"./FavoriteMusicList.vue?vue&type=template&id=0dc8b6c2&scoped=true\"\nimport script from \"./FavoriteMusicList.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteMusicList.vue?vue&type=script&lang=js\"\n\nimport \"./FavoriteMusicList.vue?vue&type=style&index=0&id=0dc8b6c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dc8b6c2\"]])\n\nexport default __exports__","import { render } from \"./FavoriteList.vue?vue&type=template&id=753915f5&scoped=true\"\nimport script from \"./FavoriteList.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteList.vue?vue&type=script&lang=js\"\n\nimport \"./FavoriteList.vue?vue&type=style&index=0&id=753915f5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-753915f5\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router';\r\nimport MusicSearch from './views/MusicSearch.vue';\r\nimport MusicDetail from './views/MusicDetail.vue';\r\n\r\nimport FavoriteList from './views/FavoriteList.vue';\r\n\r\nconst routes = [\r\n  { path: '/', component: MusicSearch },\r\n  { path: '/music/:id', component: MusicDetail, props: true },\r\n  { path: '/favorite', component: FavoriteList }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes\r\n});\r\n\r\nexport default router;\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport { Icon } from 'vant'\r\nimport 'vant/lib/index.css'  // 别忘了引入样式\r\n\r\nconst app = createApp(App)\r\napp.use(router)\r\napp.use(Icon)\r\napp.mount('#app')\r\n","import axios from 'axios';\r\n// 落月api  https://doc.vkeys.cn/api-doc/v2/%E9%9F%B3%E4%B9%90%E6%A8%A1%E5%9D%97/%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90/1-netease.html\r\nconst instance = axios.create({\r\n  baseURL: 'https://api.vkeys.cn/v2/music/netease',\r\n  timeout: 10000,\r\n});\r\n\r\n\r\n// vkeys接口：通过id查找音乐详情，支持 quality 参数（数字1-9）\r\nexport function searchMusicByIdVkeys(id, quality = 4) {\r\n  return instance.get('', { params: { id, quality } });\r\n}\r\n\r\n// 搜索列表接口（不变）\r\n\r\nexport function searchMusic(word) {\r\n  return instance.get('', { params: { word } });\r\n}\r\n\r\n\r\n// 获取歌词接口\r\nexport function fetchLyricById(id) {\r\n  return instance.get('/lyric', { params: { id } });\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmusic_web\"] = self[\"webpackChunkmusic_web\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6628); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_router_view","$data","player","_createBlock","_component_GlobalAudioPlayer","src","url","title","song","artist","singer","cover","musicId","id","onEnded","$options","playNext","onTimeupdate","handleTimeUpdate","onPrev","playPrev","onNext","class","viewBox","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","clickable","$props","onClick","_cache","args","navigateToDetail","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","$event","_ctx","$emit","disabled","d","fill","togglePlay","isPlaying","_hoisted_10","_hoisted_9","_hoisted_12","_hoisted_13","formatTime","currentTime","seek","_hoisted_14","style","_normalizeStyle","width","progress","_hoisted_15","duration","_hoisted_16","toggleMute","volume","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","type","min","max","volumePercent","onInput","changeVolume","autoplay","ref","onPlay","onPause","updateTime","onLoadedmetadata","updateDuration","closePlayer","visible","name","props","String","Number","data","lastVolume","computed","this","watch","newVal","$nextTick","$refs","audio","play","methods","pause","event","rect","currentTarget","getBoundingClientRect","offsetX","clientX","left","percentage","seconds","isNaN","mins","Math","floor","secs","toString","padStart","$router","push","mounted","__exports__","components","GlobalAudioPlayer","album","quality","size","interval","kbps","playIndex","playList","retryFetchMusicUrl","maxRetries","delay","attempt","res","searchMusicByIdVkeys","code","console","log","warn","e","error","Promise","resolve","setTimeout","$root","prevIndex","prevItem","nextIndex","length","nextItem","$searchMusicByIdVkeys","render","_hoisted_2","searchType","value","searchInput","onKeyup","_withKeys","handleSearchUnified","placeholder","loading","results","_component_MusicList","list","onGoDetail","handleGoDetail","resultById","_hoisted_7","alt","_hoisted_11","time","_hoisted_21","href","link","target","_hoisted_22","liked","isFavorite","_withModifiers","toggleFavorite","_hoisted_23","_hoisted_24","_hoisted_25","_Fragment","_renderList","item","index","key","goDetail","_hoisted_8","handlePlay","_component_van_icon","audioMap","controls","Array","default","favoriteIds","JSON","parse","localStorage","getItem","playGlobal","ar_name","pic","al_name","includes","idx","indexOf","splice","setItem","stringify","MusicList","state","obj","trim","searchMusic","message","linkMatch","match","path","music","parsedLyric","line","active","currentLine","text","lyric","selectedQuality","onChange","fetchAndPlay","qualityOptions","label","audioUrl","created","fetchLyric","handleLyric","current","i","scrollLyric","$route","params","attempts","maxAttempts","success","fetchLyricById","lrc","parseLRC","r","lines","split","result","timeReg","matches","matchAll","replace","m","parseInt","sec","parseFloat","sort","a","b","onTimeUpdate","block","lyricBlock","activeLyric","blockEl","activeEl","scrollTop","offsetTop","offsetHeight","query","findIndex","newTime","_TransitionGroup","tag","favoriteSongs","_component_FavoriteMusicList","onRefresh","fetchFavorites","removeFavorite","ids","filter","favId","cache","newCache","FavoriteMusicList","cachedMap","Map","map","first50Ids","slice","first50SongsBase","get","rest","Boolean","addTimer","setInterval","clearInterval","urlResults","all","fetchUrlOnly","forEach","restIds","restResults","fetchWithRetry","flat","routes","component","MusicSearch","MusicDetail","FavoriteList","router","createRouter","history","createWebHashHistory","app","createApp","App","use","Icon","mount","instance","axios","create","baseURL","timeout","word","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","definition","o","defineProperty","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}